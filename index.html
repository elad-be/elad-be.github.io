<html>
<head>


<title>Post Spark Core </title>
</head>

<body onload="{
   myStorage1 = localStorage.getItem('myStoredText1')
   if(myStorage1  != null){
      document.all.myToken.style.visibility = 'hidden'  // hide sensitive data. remove these if irritating
      document.all.mySend.style.visibility = 'hidden'
      document.all.myFrameId.style.visibility = 'hidden'
      document.all.myDeviceId.style.visibility = 'hidden'
      
      document.getElementById('myToken').value = '17d852df6fb6cb0f6d7f11caeb8f8822670eaffa'
    }
    document.getElementById('myToken').visibility = 'hidden'
    myStorage2 = localStorage.getItem('myStoredText2')
    if(myStorage2  != null){
       document.getElementById('myDeviceId').value = myStorage2 
      
    }
    
      
}">

  







4Type in the boxes then click submit to activate your Spark Core or Photon.<br>



<input id="myDeviceId" style="visibility:hidden;" name="myCoreID" type=text size=50 placeholder="17d852df6fb6cb0f6d7f11caeb8f8822670eaffa"> 



<input id="myFunctionName" name="myFunction" style="visibility:hidden;" type=text size=50 value="my-main" > 

<select size=1 style="visibility:hidden;" onChange="{
  document.all.myParameter.value=this.value
}">
    <option value='d7-send-high'>d7-send-high</option>
    <option value='D7-SEND-OFF'>D7-SEND-OFF</option>
    <option value='d7-send-on'>d7-send-on</option>
    <option value='d7-send-off'>d7-send-off</option>
    <option value='d6-send-1'>d6-send-1</option>
    <option value='d6-send-0'>d6-send-0</option>
    <option value='d5-read'>d5-read</option>
    <option value=''></option>
    <option value='a0-send-0'>a0-send-0</option>
    <option value='a0-send-255'>a0-send-255</option>
    <option value='a1-read'>a1-read</option>
</select>





<form name="myForm" method="POST" action = "https://api.spark.io/v1/devices/sparkCoreName/myTurnOn" target="myFrameName"><br>

Name <br><input id="myParameter" name="params" type=text size=50 placeholder="D7,DWR,HIGH"> 

<input id="myToken" name="access_token" type=text size=50 style="visibility:hidden;" value="17d852df6fb6cb0f6d7f11caeb8f8822670eaffa"> 


<input type=button value="Light a Candle!" onClick="{
    document.myForm.action = 'https://api.spark.io/v1/devices/' + '1c002f000c47353136383631' + '/' + 'setHSB'
    document.all.mySend.value = document.myForm.action 
 
    document.myForm.submit();
}">



</form>

<hr>



<input type="button" value="Store Spark Token and ID locally!" onClick="{
   localStorage.setItem('myStoredText1', document.all.myToken.value)   
   localStorage.setItem('myStoredText2', document.all.myDeviceId.value)
   alert( document.all.myToken.value + ' ' +document.all.myDeviceId.value + ' \nHas been stored')
}">



<input type="button" value="Hide Sensitive"  onClick="{
    document.all.myToken.style.visibility = 'hidden'
    document.all.mySend.style.visibility = 'hidden'
    document.all.myFrameId.style.visibility = 'hidden'
    document.all.myDeviceId.style.visibility = 'hidden'
}">

<input type="button" value="Show Sensitive" style="background-color:lime" onClick="{
    document.all.myToken.style.visibility = 'visible'
    document.all.mySend.style.visibility = 'visible'
    document.all.myFrameId.style.visibility = 'visible'
    document.all.myDeviceId.style.visibility = 'visible'
}">
<input type="button" value="Show Output Only"  onClick="{
    document.all.myFrameId.style.visibility = 'visible'
}">



<br><br>


You sent a command similar to (timeout can be 30 seconds long):Notice your access_token and Params are not visible 
since they are sent using POST which safely hides them
<br>
<textarea rows=5 cols=70 id="mySend">https://api.spark.io/v1/devices/55gg76065075555387781787/d7-on</textarea><br>


What is returned from the spark cloud server goes below here. Should be under 2 seconds<br>
<iframe width="400" height="200" name="myFrameName" id="myFrameId">




</iframe> 



<br>At the bottom of every page make sure you include the following button:<br>
<input type=button value="Back" style="font-size:25px" onclick="{window.history.back()}"><br><br>


</body>
</html>
